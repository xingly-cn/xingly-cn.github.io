---
layout: post
title: 浅谈什么是拓扑排序（图解）
date: 2021-08-22 14:06:00
tags: [拓扑排序,方糖算法]
categories: sf
abbrlink: tuo-pu-sort
top_img: transparent
cover: https://i.loli.net/2021/08/22/qNZjiF9KB3CEaXe.jpg
---

![1571057752-d0cf855adf54fc0](https://i.loli.net/2021/08/22/qNZjiF9KB3CEaXe.jpg)

# 重要概念

  **有向无环图（Directed Acyclic Graph, DAG）**是有向图的一种，字面意思的理解就是图中**没有环**。常常被用来表示事件之间的驱动依赖关系，管理任务之间的调度。

 **AOV网：**在AOV网中，不允许出现环，因此需要判断是否存在环，可以利用有向图的拓扑排序进行判断。

# 算法

## 入度计算法（BFS）

 入度法是根据顶点的入度来判断是否存在依赖关系。若顶点入度不为0，则必然此顶点的事件有前驱依赖事件，因此每次选取入度为0的顶点输出，则符合拓扑排序的性质。

### 算法流程

1. 从图中选择一个入度为0的顶点，输出该顶点。
2. 从图中删除该节点及其所有出边（即与之邻接的所有顶点入度-1）
3. 反复执行这两个步骤，直至所有节点都输出。**如果有节点没有输出，说明有环**

### 实例图解

​	例如：图所示的有向无环图，采用入度表的方法获取拓扑排序过程。

![浅谈什么是图拓扑排序](https://i.loli.net/2021/08/22/selgtio8EkBIUWD.png)

（1）选择图中入度为0的顶点1，输出顶点1。删除顶点1，并删除以顶点1为尾的边。删除后图为：

![浅谈什么是图拓扑排序](https://i.loli.net/2021/08/22/YuBXmN7Cef6gwD3.png)

（2）继续选择入度为0的顶点。现在，图中入度为0的顶点有2和4，这里我们选择顶点2，输出顶点2。删除顶点2，并删除以顶点2为尾的边。删除后图为：

![浅谈什么是图拓扑排序](https://i.loli.net/2021/08/22/Zdk1gcPFmxwsVQj.png)

（3）选择入度为0的顶点4，输出顶点4.删除顶点4，并删除以顶点4为尾的边。删除后图为：

![浅谈什么是图拓扑排序](https://i.loli.net/2021/08/22/sD3HQTpGPj7EOia.png)

（4）选择入度为0的顶点3，输出顶点3.删除顶点3，并删除以顶点3为尾的边。删除后图为：

![浅谈什么是图拓扑排序](https://i.loli.net/2021/08/22/kK7qR1FZoJrtblG.png)

（5）最后剩余顶点5，输出顶点5，拓扑排序过程结束。最终的输出结果为：

![浅谈什么是图拓扑排序](https://i.loli.net/2021/08/22/KWsk4eBzfPG8giA.png)
