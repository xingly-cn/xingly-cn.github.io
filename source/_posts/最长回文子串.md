---
layout: post
title: 最长回文子串
date: 2021-07-27 09:43:08
tags: [中心扩散,双指针]
categories: sf
abbrlink: max-length-string
top_img: transparent
cover: https://img.asugar.cn/blog/leetcode.jpg
---

题目直达：[5. 最长回文子串](https://leetcode-cn.com/problems/longest-palindromic-substring/)

# 题目

给你一个字符串 `s`，找到 `s` 中最长的回文子串。

**示例 1：**

```bash
输入：s = "babad"
输出："bab"
解释："aba" 同样是符合题意的答案。
```

**示例 2：**

```bash
输入：s = "cbbd"
输出："bb"
```

**示例 3：**

```bash
输入：s = "a"
输出："a"
```

**示例 4：**

```bash
输入：s = "ac"
输出："a"
```

# 思路

- 中心扩散法

![img](https://i.loli.net/2021/07/27/4aKbeZ5YIJEiDlR.png)

每个位置向两边扩散都会出现一个窗口大小（`len`）。如果 `len>maxLen`(用来表示最长回文串的长度）。则更新 `maxLen` 的值。

因为我们最后要返回的是具体子串，而不是长度，因此，还需要记录一下 `maxLen` 时的起始位置（`start`），即此时还要 `start=l`。

# 代码

```java
class Solution {
    public String longestPalindrome(String s) {
        int n = s.length();   // 串长
        int start=0;
        int maxLen=1;
        int len=1;
        for(int i=0;i<n;i++){
            int l=i-1,r=i+1;
            while(l>=0 && s.charAt(l)==s.charAt(i)){
                len++;
                l--;
            }
            while(r<n && s.charAt(r)==s.charAt(i)){
                len++;
                r++;
            }
            while(l>=0 && r<n && s.charAt(l)==s.charAt(r)){
                len+=2;
                l--;
                r++;
            }
            if(len >= maxLen){
                maxLen = len;
                start = l;
            }
            len=1;
        }
        return s.substring(start+1,start+maxLen+1);
    }
}
```

