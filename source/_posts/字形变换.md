---
title: 字形变换 
date: 2021-04-23 16:14:16 
tags: [Z型变换,巧用flag,字符串]
categories: sf 
abbrlink: zigzag-conversion 
cover: https://z3.ax1x.com/2021/05/28/2FOvWR.png
top_img: transparent
---

将一个给定字符串 `s` 根据给定的行数 `numRows` ，以从上往下、从左到右进行 Z 字形排列。

<!-- more -->

#### [6. Z 字形变换](https://leetcode-cn.com/problems/zigzag-conversion/)

![image-20210423161733042](https://i.loli.net/2021/04/23/oiMrHGgClBjc2L4.png)

### 思路

1. res[i] += c ：把每个字符c存入相应的行 a[i]
2. i += flag ：更新当前字符 c 存入行的索引
3. flag = - flag ：到达转折点时，执行方向

### 代码

```c++
class Solution {
public:
    string convert(string s, int numRows) {
        if(numRows <= 1) return s;
        int index=0,flag=-1;
        vector<vector<char>> a(1005);
        for(int i=0;i<s.size();i++){
            a[index].push_back(s[i]);
            if(index==0 || index==numRows-1) flag = -flag; // 到达转折点，掉头
            index += flag;
        }
        string res="";	  // 将每行的字符，存入新的字符串
        for(int i=0;i<a.size();i++)
        for(int j=0;j<a[i].size();j++) res += a[i][j];
        return res;
    }
};

```

